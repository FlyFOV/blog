+++ 
date = "2020-06-15"
title = "C缺陷与陷阱"
+++
**词法分析中的贪心法：** 从左到右一个字符一个字符的读入，如果该字符可能组成一个符号，那么再读入下一个字符，判断已读入的两个字符组成的字符串是否可能是一个符号的组成部分。如果可能，继续读入下一个字符，重述上述判断。\
**整型常量** 如果一个整型常量的第一个字符是数字0，那么该常量将被视作八进制数。\
**字符与字符串** 用单引号引起的一个字符代表一个整数（ASCII），而用双引号引起的字符代表一个指向无名数组起始字符的指针。\
**理解函数的声明** (*fp)()为调用该函数的方式，ANSI C允许程序员将该式简写为fp()\
(*(void)(*)())0)() 编写一个独立运行于某种微处理器伤的C程序。当计算机启动时，硬件将调用首地址为0的子例程\
**注意作为语句结束标志的分号** 如果一个函数返回值为void，此时编译器会隐含的将函数返回值类型视作int类型
**指针与数组** 数组与指针的区别\
{{< highlight go "linenos=table,hl_lines=8 15-17,linenostart=0" >}}
*(*（calendar+4）+7） = calendar[4][7]
int calendar[12][31] 
int(*monthp)[31] 
monthp = calendar
{{< / highlight >}}
**非数组的指针** 检查malloc是否调用成功，并注意使用完后释放空间。
**作为参数的数组声明** 如果我们使用数组名作为参数，那么数组名会立刻被转换为指向该数组第一个元素的指针。
{{< highlight go "linenos=table,hl_lines=8 15-17,linenostart=0" >}}
main(int argc,char* argv[])
{

}
main(int argc,char ** argv)
{

}
{{< / highlight >}}
**避免举隅法 synecdoche**  
{{< highlight go "linenos=table,hl_lines=8 15-17,linenostart=0" >}}
char *q,*q
p = "xyz"
{{< / highlight >}}
**空指针并非空字符串** 编译器保证由0(NULL)转换而来的指针不等于任何指针。当常数0被转换为指针使用时，这个指针绝对不能被解除饮用(dereference)。换句话说，当我们将0赋值给一个指针变量时，绝对不能企图使用该指针所指向的内存中存储的内容。\
**边界计算与不对称边界** 差一错误，栏杆错误（off-by-one-error）。设计buffer函数，利用边界不对等原则。
**求值顺序** C语言中之有四个运算符(&& || ? ,)